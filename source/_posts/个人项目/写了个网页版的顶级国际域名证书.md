title: å†™äº†ä¸ªç½‘é¡µç‰ˆçš„é¡¶çº§å›½é™…åŸŸåè¯ä¹¦
excerpt: "æœ¬æ¥æ˜¯æƒ³å‘åˆ°æ˜é‡‘ä¸Šçš„ï¼Œæ— å¥ˆå®¡æ ¸ä¸ç»™é€šè¿‡ï¼Œä¹Ÿæ²¡ç»™å‡ºä¸é€šè¿‡çš„åŸå› ï¼Œå°±è¯´å†…å®¹ä¸é€‚åˆå‘å¸ƒï¼Œæˆ‘çŒœå¯èƒ½æ˜¯æˆ‘æ¶‰åŠåˆ°äº†å›½å®¶æœºå¯†å§\U0001F92B"
categories:
  - ä¸ªäººé¡¹ç›®
tags:
  - JavaScript
  - è¯ä¹¦
abbrlink: 882f8368
date: 2023-09-09 14:50:00
updated: 2023-09-09 15:03:15
---
ä»Šå¤©é€›è‰¯ï¼ˆå‡‰ï¼‰å¿ƒäº‘æƒ³çœ‹ä¸‹åŸŸåä»€ä¹ˆæ—¶å€™åˆ°æœŸï¼Œå‘ç°é‡Œé¢æœ‰ä¸ªåŸŸåè¯ä¹¦æ„Ÿè§‰è¿˜ä¸é”™ï¼Œäºæ˜¯çªå‘å¥‡æƒ³èŠ±äº†åŠå¤©æ—¶é—´æäº†ä¸ªç½‘é¡µç‰ˆçš„åŸŸåè¯ä¹¦ï¼Œç›¸æ¯”ä¸€å¼ å•è°ƒçš„å›¾ç‰‡æˆ‘è§‰å¾—è¿™ä¸ªä¸œè¥¿â€”â€”æ³°åº“æ‹‰ï¼ï¼ï¼

åœ¨çº¿é¢„è§ˆï¼š[ä¸­å›½å›½å®¶é¡¶çº§åŸŸåæ³¨å†Œè¯ä¹¦ - é«˜ä»¿ç‰ˆ](https://count.xukaiyyds.cn/)

å…¶å®å†…å®¹å’ŒåŸæ¥å‡ ä¹ä¸€æ ·ï¼Œå”¯ç‹¬å¤šäº†ä¸ªåŸŸåç»­è´¹å€’è®¡æ—¶ï¼Œæ˜¯åŠæ—¶ç»­è´¹è¿˜æ˜¯åŠæ—¶æ­¢æŸï¼Ÿè¿™æ˜¯ä¸ªé—®é¢˜ï¼

## å®ç°æ€è·¯

ç›®æ ‡æ—¶é—´ - å½“å‰æ—¶é—´ = å‰©ä½™æ—¶é—´

### å½“å‰æ—¶é—´

å…ˆè®¡ç®—å½“å‰æ—¶é—´ç”¨äºæ˜¾ç¤ºè¯ä¹¦æ‰“å°æ—¥æœŸï¼Œéœ€è¦æ³¨æ„çš„æ˜¯`getMonth()`çš„è¿”å›å€¼éœ€è¦åŠ 1æ‰èƒ½å¾—åˆ°å®é™…çš„æœˆä»½ï¼Œå› ä¸ºå®ƒçš„ç´¢å¼•å€¼æ˜¯ä»0åˆ°11ã€‚

å¦å¤–`getDate()`å’Œ`getDay()`è¦æ³¨æ„åŒºåˆ†ï¼Œåè€…æ˜¯è¿”å›ä¸€å‘¨ä¸­çš„ç¬¬å‡ å¤©ï¼ˆ0ä»£è¡¨å‘¨æ—¥ï¼‰ã€‚

```js
let current = new Date(); // è·å–åˆ°å½“å‰ä¸­å›½æ ‡å‡†æ—¶é—´
let year = current.getFullYear(); // è·å–å¹´ä»½
let month = current.getMonth() + 1; // è·å–æœˆä»½
let date = current.getDate(); // è·å–æ—¥ä»½
```

å¯ä»¥å†å®Œå–„ä¸€ä¸‹ï¼Œç»™æœˆä»½å’Œæ—¥ä»½åŠ ä¸ªåˆ¤æ–­ï¼Œå¦‚æœå®ƒä»¬çš„é•¿åº¦ä¸º1å°±åœ¨å‰é¢åŠ ä¸ª0ã€‚

```js
  if (String(month).length === 1) {
    month = "0" + month;
  }
  if (String(date).length === 1) {
    date = "0" + date;
  }
```

### å‰©ä½™æ—¶é—´

é¦–å…ˆè®¡ç®—å‡ºå‰©ä½™æ—¶é—´çš„æ¯«ç§’æ•°ï¼Œå†å°†æ¯«ç§’åˆ†åˆ«è½¬æ¢ä¸ºå¤©ã€å°æ—¶ã€åˆ†é’Ÿå’Œç§’ã€‚

```js
let target = new Date("2023/10/16 21:45:32"); // è®¾ç½®åŸŸåè¿‡æœŸæ—¶é—´
let currentTime = current.getTime(); // è·å–å½“å‰æ—¶é—´æˆ³
let targetTime = target.getTime(); // è·å–ç›®æ ‡æ—¶é—´æˆ³
let remainingTime = targetTime - currentTime; // è®¡ç®—å‰©ä½™æ—¶é—´æˆ³

let days = Math.floor(remainingTime / (1000 * 60 * 60 * 24)); // å¤©
let hours = Math.floor((remainingTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)); // å°æ—¶
let minutes = Math.floor((remainingTime % (1000 * 60 * 60)) / (1000 * 60)); // åˆ†é’Ÿ
let seconds = Math.floor((remainingTime % (1000 * 60)) / 1000); // ç§’
```

å‡ºäºç¾è§‚è€ƒè™‘å»ºè®®ç»™å®ƒä»¬å‰é¢éƒ½è¡¥ä¸ªé›¶ï¼Œå¤©æ•°åŠ ä¸åŠ éƒ½è¡Œï¼Œæ— æ‰€åŠè°“ğŸ˜’

```js
  if (String(hours).length === 1) {
    hours = "0" + hours;
  }
  if (String(minutes).length === 1) {
    minutes = "0" + minutes;
  }
  if (String(seconds).length === 1) {
    seconds = "0" + seconds;
  }
```

### æ›´æ–°æ—¶é—´

å°è£…ä¸€ä¸ª`updateCountdown()`çš„å‡½æ•°ï¼Œå°†ä»¥ä¸Šä»£ç åŒ…è£¹åœ¨å†…ã€‚

```js
function updateCountdown() {
...
}
```

å¼€å¯`setInterval`è®¡æ—¶å™¨ï¼Œè®¾ç½®æ¯ç§’é’Ÿæ›´æ–°ä¸€æ¬¡å€’è®¡æ—¶ã€‚

```js
let timer = setInterval(updateCountdown, 1000);
```

å½“å‰©ä½™æ—¶é—´ä¸º0æ—¶æ¸…é™¤å®šæ—¶å™¨ï¼Œä¸€å®šè¦æ”¾åˆ°`updateCountdown()`é‡Œé¢æ‰èƒ½æ›´æ–°å€’è®¡æ—¶ã€‚

```js
  if (remainingTime <= 0) {
    clearInterval(timer);
  }
```

æœ€åï¼Œä¸€ä¸ªç®€å•çš„åŸŸåç»­è´¹å€’è®¡æ—¶å°±å¤§åŠŸå‘Šæˆäº†ï¼

æˆ‘å·²å°†æºç å¼€æºåˆ°äº† GitHubï¼Œå¦‚æœå¤§å®¶è§‰å¾—è¿˜æœ‰ä»€ä¹ˆéœ€è¦æ”¹è¿›çš„åœ°æ–¹ï¼Œæ¬¢è¿å‘æˆ‘æ [issues](https://github.com/xukaiyyds/domain-name/issues) æˆ– [Pull requests](https://github.com/xukaiyyds/domain-name/pulls)ã€‚